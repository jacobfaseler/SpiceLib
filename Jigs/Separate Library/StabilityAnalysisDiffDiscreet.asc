Version 4
SHEET 1 4368 2164
WIRE 1456 -112 1408 -112
WIRE 1600 -112 1520 -112
WIRE -352 -64 -400 -64
WIRE -208 -64 -288 -64
WIRE 1120 -16 1072 -16
WIRE 1216 -16 1200 -16
WIRE 1408 -16 1408 -112
WIRE 1408 -16 1216 -16
WIRE 1440 -16 1408 -16
WIRE 1600 -16 1600 -112
WIRE 1600 -16 1520 -16
WIRE 272 16 240 16
WIRE 608 16 576 16
WIRE -688 32 -752 32
WIRE -592 32 -608 32
WIRE -400 32 -400 -64
WIRE -400 32 -592 32
WIRE -368 32 -400 32
WIRE -208 32 -208 -64
WIRE -208 32 -288 32
WIRE 1472 48 1456 48
WIRE 240 64 240 16
WIRE 608 64 608 16
WIRE 1456 64 1456 48
WIRE 192 80 160 80
WIRE 688 80 656 80
WIRE 1216 80 1216 -16
WIRE 1232 80 1216 80
WIRE 1424 80 1408 80
WIRE -752 96 -752 32
WIRE -336 96 -352 96
WIRE 1600 96 1600 -16
WIRE 1600 96 1488 96
WIRE 1712 96 1600 96
WIRE -352 112 -352 96
WIRE 1232 112 1216 112
WIRE 1424 112 1408 112
WIRE -592 128 -592 32
WIRE -384 128 -592 128
WIRE 192 128 176 128
WIRE 672 128 656 128
WIRE -208 144 -208 32
WIRE -208 144 -320 144
WIRE -384 160 -592 160
WIRE 1456 160 1456 128
WIRE 1472 160 1456 160
WIRE 240 176 240 144
WIRE 608 176 608 144
WIRE -352 208 -352 176
WIRE -336 208 -352 208
WIRE 1120 240 1072 240
WIRE 1216 240 1216 112
WIRE 1216 240 1200 240
WIRE 1408 240 1216 240
WIRE 1440 240 1408 240
WIRE 1536 240 1520 240
WIRE 1552 240 1536 240
WIRE -752 288 -752 176
WIRE -688 288 -752 288
WIRE -592 288 -592 160
WIRE -592 288 -608 288
WIRE -400 288 -592 288
WIRE -368 288 -400 288
WIRE -272 288 -288 288
WIRE -256 288 -272 288
WIRE 240 288 240 256
WIRE 608 288 608 256
WIRE 192 304 160 304
WIRE 688 304 656 304
WIRE 1408 336 1408 240
WIRE 1440 336 1408 336
WIRE 1536 336 1536 240
WIRE 1536 336 1504 336
WIRE 192 352 176 352
WIRE 672 352 656 352
WIRE -400 384 -400 288
WIRE -368 384 -400 384
WIRE -272 384 -272 288
WIRE -272 384 -304 384
WIRE 240 416 240 368
WIRE 272 416 240 416
WIRE 608 416 608 368
WIRE 608 416 576 416
WIRE -528 512 -560 512
WIRE -416 512 -448 512
WIRE -560 560 -560 512
WIRE -448 560 -448 512
WIRE 1392 624 1376 624
WIRE -560 672 -560 640
WIRE -448 672 -448 640
WIRE 1344 752 1344 672
WIRE 1392 752 1392 624
WIRE 2480 784 2400 784
WIRE 2688 784 2608 784
WIRE 1168 800 1136 800
WIRE 1328 800 1168 800
WIRE 1552 800 1408 800
WIRE 1584 800 1552 800
WIRE 2400 816 2400 784
WIRE 2608 816 2608 784
WIRE 1168 880 1168 800
WIRE 1552 880 1552 800
WIRE 1120 896 1088 896
WIRE 1504 896 1472 896
WIRE 1120 944 1104 944
WIRE 1504 944 1488 944
WIRE 2400 944 2400 896
WIRE 2608 944 2608 896
WIRE 1072 1024 1040 1024
WIRE 1168 1024 1168 960
WIRE 1168 1024 1136 1024
WIRE 1200 1024 1168 1024
WIRE 1264 1024 1200 1024
WIRE 1360 1024 1264 1024
WIRE 1440 1024 1360 1024
WIRE 1552 1024 1552 960
WIRE 1552 1024 1520 1024
WIRE 1648 1024 1552 1024
WIRE 1760 1024 1648 1024
WIRE 1920 1024 1824 1024
WIRE 1936 1024 1920 1024
WIRE 2544 1056 2512 1056
WIRE 1264 1072 1264 1024
WIRE 1936 1072 1936 1024
WIRE 1200 1088 1200 1024
WIRE 2544 1088 2544 1056
WIRE 2592 1088 2592 1056
WIRE 2384 1136 2320 1136
WIRE 2528 1136 2384 1136
WIRE 2688 1136 2608 1136
WIRE 2832 1136 2688 1136
WIRE 2320 1184 2320 1136
WIRE 2688 1184 2688 1136
WIRE 2400 1200 2368 1200
WIRE 2816 1200 2736 1200
WIRE 1072 1216 1040 1216
WIRE 1168 1216 1136 1216
WIRE 1200 1216 1200 1152
WIRE 1200 1216 1168 1216
WIRE 1264 1216 1264 1152
WIRE 1264 1216 1200 1216
WIRE 1360 1216 1264 1216
WIRE 1440 1216 1360 1216
WIRE 1552 1216 1520 1216
WIRE 1664 1216 1552 1216
WIRE 1744 1216 1664 1216
WIRE 1936 1216 1936 1152
WIRE 1936 1216 1744 1216
WIRE 2400 1248 2368 1248
WIRE 2784 1248 2736 1248
WIRE 1744 1264 1744 1216
WIRE 1168 1280 1168 1216
WIRE 1552 1280 1552 1216
WIRE 1120 1296 1088 1296
WIRE 1504 1296 1472 1296
WIRE 2320 1296 2320 1264
WIRE 2688 1296 2688 1264
WIRE 2688 1296 2320 1296
WIRE 2320 1312 2320 1296
WIRE 1120 1344 1104 1344
WIRE 1504 1344 1488 1344
WIRE 2560 1360 2528 1360
WIRE 1744 1392 1744 1344
WIRE 2560 1392 2560 1360
WIRE 2608 1392 2608 1360
WIRE 1168 1424 1168 1360
WIRE 1168 1424 1136 1424
WIRE 1312 1424 1168 1424
WIRE 1552 1424 1552 1360
WIRE 1552 1424 1392 1424
WIRE 1600 1424 1552 1424
WIRE 2416 1440 2320 1440
WIRE 2544 1440 2416 1440
WIRE 2704 1440 2624 1440
WIRE 2848 1440 2704 1440
WIRE 1744 1456 1744 1392
WIRE 2704 1488 2704 1440
WIRE 2832 1504 2752 1504
WIRE 2320 1520 2320 1440
WIRE 2400 1536 2368 1536
WIRE 1328 1552 1328 1472
WIRE 2800 1552 2752 1552
WIRE 2400 1584 2368 1584
WIRE 1376 1600 1376 1472
WIRE 1376 1600 1360 1600
WIRE 1744 1600 1744 1536
WIRE 1808 1600 1744 1600
WIRE 1840 1600 1808 1600
WIRE 1744 1632 1744 1600
WIRE 2320 1632 2320 1600
WIRE 2704 1632 2704 1568
WIRE 2704 1632 2320 1632
WIRE 1824 1648 1792 1648
WIRE 2320 1664 2320 1632
WIRE 1824 1696 1792 1696
WIRE 1744 1744 1744 1712
FLAG -560 672 0
FLAG -528 512 5VP
FLAG -448 672 0
FLAG -416 512 5VN
FLAG 1472 48 5VP
FLAG 1472 160 5VN
FLAG 1552 240 0
FLAG 1040 1024 0
FLAG 1040 1216 0
FLAG 1136 800 FBn
IOPIN 1136 800 BiDir
FLAG 1136 1424 FBp
IOPIN 1136 1424 BiDir
FLAG 1600 1424 PINp
IOPIN 1600 1424 BiDir
FLAG 1584 800 PINn
IOPIN 1584 800 BiDir
FLAG 1232 80 FBn
IOPIN 1232 80 BiDir
FLAG 1408 80 PINn
IOPIN 1408 80 BiDir
FLAG 1232 112 FBp
IOPIN 1232 112 BiDir
FLAG 1408 112 PINp
IOPIN 1408 112 BiDir
FLAG -336 96 5VP
FLAG -336 208 5VN
FLAG -256 288 0
FLAG 2400 944 0
FLAG 2480 784 Ven
IOPIN 2480 784 BiDir
FLAG 1104 944 Ven
IOPIN 1104 944 BiDir
FLAG 1088 896 0
FLAG 1488 944 Ven
IOPIN 1488 944 BiDir
FLAG 1472 896 0
FLAG 1104 1344 Ven
IOPIN 1104 1344 BiDir
FLAG 1088 1296 0
FLAG 1488 1344 Ven
IOPIN 1488 1344 BiDir
FLAG 1472 1296 0
FLAG 2400 1248 FBn
IOPIN 2400 1248 BiDir
FLAG 2400 1200 FBp
IOPIN 2400 1200 BiDir
FLAG 2320 1312 0
FLAG 2608 944 0
FLAG 2688 784 Vdis
IOPIN 2688 784 BiDir
FLAG 1360 1600 Vdis
IOPIN 1360 1600 BiDir
FLAG 1328 1552 0
FLAG 1376 624 Vdis
IOPIN 1376 624 BiDir
FLAG 1344 672 0
FLAG 1824 1648 FBp
IOPIN 1824 1648 BiDir
FLAG 2400 1536 AmpOut
IOPIN 2400 1536 BiDir
FLAG 2400 1584 0
FLAG 2320 1664 0
FLAG 1824 1696 Aol_Loaded
IOPIN 1824 1696 BiDir
FLAG 1744 1744 0
FLAG 1808 1600 Offset
FLAG 1072 -16 STIMn
IOPIN 1072 -16 BiDir
FLAG 1072 240 STIMp
IOPIN 1072 240 BiDir
FLAG 176 128 Ven
IOPIN 176 128 BiDir
FLAG 160 80 0
FLAG 176 352 Ven
IOPIN 176 352 BiDir
FLAG 160 304 0
FLAG 272 416 STIMn
IOPIN 272 416 BiDir
FLAG 272 16 STIMp
IOPIN 272 16 BiDir
FLAG 672 128 Vdis
IOPIN 672 128 BiDir
FLAG 688 80 0
FLAG 672 352 Vdis
IOPIN 672 352 BiDir
FLAG 688 304 0
FLAG 576 416 STIMn
IOPIN 576 416 BiDir
FLAG 576 16 STIMp
IOPIN 576 16 BiDir
FLAG 1712 96 AmpOut
IOPIN 1712 96 BiDir
FLAG 2832 1136 AolB
IOPIN 2832 1136 BiDir
FLAG 2512 1056 Ven
IOPIN 2512 1056 BiDir
FLAG 2592 1056 0
FLAG 2784 1248 Vdis
IOPIN 2784 1248 BiDir
FLAG 2816 1200 0
FLAG 2848 1440 Aol_Loaded
IOPIN 2848 1440 BiDir
FLAG 2528 1360 Ven
IOPIN 2528 1360 BiDir
FLAG 2608 1360 0
FLAG 2800 1552 Vdis
IOPIN 2800 1552 BiDir
FLAG 2832 1504 0
FLAG 1360 1024 InModelN
FLAG 1360 1216 InModelP
FLAG 1664 1216 BiasPointOL
FLAG 1648 1024 CouplePointOL
FLAG 1920 1024 StimOpenLoop
FLAG 1744 1392 Damp
FLAG 2384 1136 GenAolB
FLAG 2416 1440 GenVaolLoaded
SYMBOL voltage -560 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName +5
SYMATTR Value 5
SYMBOL voltage -448 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName -5
SYMATTR Value -5
SYMBOL OpAmps\\UniversalOpAmp4 1456 96 R0
WINDOW 0 16 -32 Left 0
WINDOW 123 23 13 Left 0
WINDOW 39 23 25 Left 0
WINDOW 40 25 35 Left 0
SYMATTR InstName U2
SYMATTR Value2 Avol=1Meg GBW=70Meg Slew=190Meg
SYMATTR SpiceLine Ilimit=52m Rail=180m Vos=2m4 Phimargin=60
SYMATTR SpiceLine2 En=6n Enk=10 In=5f Ink=100 Rin=12Gig Ro=7m Ccm=2p5 Cdiff=0p5
SYMBOL res 1536 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2k
SYMBOL res 1216 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2k
SYMBOL res 1536 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 2k
SYMBOL res 1216 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 2k
SYMBOL cap 1136 1008 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CinDiffN
SYMATTR Value {CinDiff}
SYMBOL cap 1216 1152 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName CinCM
SYMATTR Value {CinCM}
SYMBOL cap 1072 1232 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName CinDiffP
SYMATTR Value {CinDiff}
SYMBOL res 1248 1056 R0
SYMATTR InstName Rin
SYMATTR Value {Rin}
SYMBOL ind 1536 1008 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LacBiasN
SYMATTR Value 1T
SYMBOL ind 1536 1200 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LacBiasP
SYMATTR Value 1T
SYMBOL cap 1824 1008 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CacCouple
SYMATTR Value 1T
SYMBOL voltage 1936 1056 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL ind 1728 1440 R0
SYMATTR InstName LdcBIAS
SYMATTR Value 1T
SYMBOL res 1728 1248 R0
SYMATTR InstName Ldamper
SYMATTR Value 1m
SYMBOL cap 1520 -128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 47p
SYMBOL cap 1504 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 47p
SYMBOL OpAmps\\UniversalOpAmp4 -352 144 R0
WINDOW 0 16 -32 Left 0
WINDOW 123 23 13 Left 0
WINDOW 39 23 25 Left 0
WINDOW 40 25 35 Left 0
SYMATTR InstName U1
SYMATTR Value2 Avol=1Meg GBW=70Meg Slew=190Meg
SYMATTR SpiceLine Ilimit=52m Rail=180m Vos=2m4 Phimargin=60
SYMATTR SpiceLine2 En=6n Enk=10 In=5f Ink=100 Rin=12Gig Ro=7m Ccm=2p5 Cdiff=0p5
SYMBOL res -272 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 2k
SYMBOL res -592 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL res -272 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL res -592 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 2k
SYMBOL cap -288 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 47p
SYMBOL cap -304 368 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 47p
SYMBOL voltage -752 80 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value ""
SYMBOL voltage 240 160 R0
WINDOW 123 42 84 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 0
SYMATTR InstName AnStim
SYMATTR Value ""
SYMBOL sw 1168 864 R0
SYMATTR InstName SwFBnAn
SYMATTR Value idSW
SYMBOL voltage 2400 800 R0
SYMATTR InstName Ven
SYMATTR Value {StAnEn}
SYMBOL sw 1552 864 R0
SYMATTR InstName SwPINnAn
SYMATTR Value idSW
SYMBOL sw 1168 1264 R0
SYMATTR InstName SwFBpAn
SYMATTR Value idSW
SYMBOL sw 1552 1264 R0
SYMATTR InstName SwPINpAn
SYMATTR Value idSW
SYMBOL e 2320 1168 M0
SYMATTR InstName DiffMeasAolB
SYMATTR Value 1
SYMBOL voltage 2608 800 R0
SYMATTR InstName Vdis
SYMATTR Value {StAnDis}
SYMBOL sw 1296 1424 R270
WINDOW 0 -147 1 Left 2
WINDOW 3 -77 100 Left 2
SYMATTR InstName SwFBpAn1
SYMATTR Value idSW
SYMBOL sw 1312 800 M90
WINDOW 0 -147 1 Left 2
WINDOW 3 -77 100 Left 2
SYMATTR InstName SwFBpAn2
SYMATTR Value idSW
SYMBOL e 1744 1616 M0
SYMATTR InstName Voffset
SYMATTR Value 1
SYMBOL e 2320 1504 M0
SYMATTR InstName VaolLoaded
SYMATTR Value 1
SYMBOL voltage 608 160 R0
WINDOW 0 -146 12 Left 2
WINDOW 123 -78 92 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName BypassStim
SYMATTR Value2 AC 1
SYMATTR Value ""
SYMBOL sw 240 48 R0
SYMATTR InstName SwAnSTIMp
SYMATTR Value idSW
SYMBOL sw 240 272 R0
SYMATTR InstName SwAnSTIMn
SYMATTR Value idSW
SYMBOL sw 608 48 M0
SYMATTR InstName SwBySTIMp
SYMATTR Value idSW
SYMBOL sw 608 272 M0
SYMATTR InstName SwBySTIMn
SYMATTR Value idSW
SYMBOL sw 2624 1136 R90
SYMATTR InstName SwFBnAn1
SYMATTR Value idSW
SYMBOL sw 2688 1168 M0
WINDOW 0 -147 1 Left 2
WINDOW 3 -77 100 Left 2
SYMATTR InstName SwFBpAn3
SYMATTR Value idSW
SYMBOL sw 2640 1440 R90
SYMATTR InstName SwFBnAn2
SYMATTR Value idSW
SYMBOL sw 2704 1472 M0
WINDOW 0 -147 1 Left 2
WINDOW 3 -77 100 Left 2
SYMATTR InstName SwFBpAn4
SYMATTR Value idSW
TEXT -600 728 Left 2 !.ac dec 1k 1 100Meg
TEXT 1480 144 Left 0 ;OPA2810
TEXT 896 648 Left 2 !.PARAM CinDiff=0p5\n.PARAM CinCM=2p5\n.PARAM Rin=12Gig
TEXT 1648 -112 Left 2 ;For 1 / beta characteristic, graph expression:\nV(Aol_L) / V(AolB)\nFor a more polished look, add following function to plot defs:\n.func beta_recip (x,y) {x / y}\nand plot the following expression:\nbeta_recip ( V(Aol_L), V(AolB) )
TEXT -328 192 Left 0 ;OPA2810
TEXT -736 -264 Left 5 ;AC Charactaristic
TEXT 560 -288 Left 5 ;Stability Analysis / AC Charactaristic
TEXT 2104 640 Left 2 !.MODEL idSW SW(Ron={gmin})\n.PARAM StAnEn = if( EN, 1, 0)\n.PARAM StAnDis = if( EN, 0, 1)
TEXT 888 608 Left 2 ;Required OpAmp Specs
TEXT 104 -128 Left 2 ;EN = 1 --> Stability Analysis\nEN = 0 --> Amplifier Charactaristic
TEXT 104 -64 Left 2 !.param EN=1
TEXT 832 80 Left 2 ;Stimulus
TEXT 1184 424 Left 2 ;Amplifier Parasitic Model\n± Open-Loop Configuration
TEXT 2112 600 Left 2 ;Glue
LINE Normal 976 96 816 96 2
LINE Normal 944 64 976 96 2
LINE Normal 944 128 944 64 2
LINE Normal 976 96 944 128 2
LINE Normal 1328 560 1328 272 2
LINE Normal 1296 528 1328 560 2
LINE Normal 1360 528 1296 528 2
LINE Normal 1328 560 1360 528 2
LINE Normal 1296 304 1328 272 2
LINE Normal 1360 304 1296 304 2
LINE Normal 1328 272 1360 304 2
LINE Normal -32 1760 -32 -368 2
RECTANGLE Normal 768 496 80 -160 2
RECTANGLE Normal 2032 1792 864 576 2
RECTANGLE Normal 3280 1792 2080 576 2
